# Task 2: Брутфорс SSH с Medusa

Автоматический брутфорс пароля локального SSH-пользователя с помощью Medusa в Docker (Kali Linux).

## Описание

Контейнер автоматически:
1. Создает тестового пользователя `testuser` с паролем `password123`
2. Запускает SSH-сервер на localhost (127.0.0.1:22)
3. Выполняет брутфорс-атаку с помощью Medusa используя локальный словарь `/task/wordlist.txt` (120+ популярных паролей)

## Быстрый запуск

```bash
make
```

или

```bash
docker build -t kali-medusa . && docker run -it kali-medusa
```

## Команды Make

```bash
make build    # Собрать образ
make run      # Запустить брутфорс
make all      # Собрать и запустить (по умолчанию)
make clean    # Удалить контейнеры и образ
```

## Ручной режим

```bash
# Запустить контейнер с bash
docker run -it kali-medusa /bin/bash

# Внутри контейнера

# Создать пользователя и запустить SSH
./setup.sh

# В другом терминале или фоне запустить брутфорс
./medusa_bruteforce.sh
```

## Параметры атаки

- **Цель**: 127.0.0.1 (localhost)
- **Пользователь**: testuser
- **Пароль**: password123
- **Словарь**: /task/wordlist.txt (по умолчанию)
- **Потоки**: 1
- **Модуль**: SSH

## Технические детали

Medusa использует следующие параметры:
- `-h` - хост (127.0.0.1)
- `-u` - имя пользователя
- `-P` - файл со словарем паролей
- `-M` - модуль (ssh)
- `-t` - количество параллельных потоков (1 для стабильности)
- `-f` - остановка после нахождения пароля
- `-v 4` - подробный вывод

### Использование полного словаря rockyou.txt

Для использования полного словаря rockyou.txt (14+ миллионов паролей):
1. Откройте `medusa_bruteforce.sh`
2. Замените `WORDLIST="/task/wordlist.txt"` на `WORDLIST="/usr/share/wordlists/rockyou.txt"`
3. Пересоберите образ: `make clean && make build`

**Внимание**: брутфорс с полным rockyou.txt может занять очень много времени!

